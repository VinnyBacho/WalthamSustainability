<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Acme"
      rel="stylesheet"
    />
    <title>Waltham Green Project</title>
    <!-- <script src="test.js"></script> -->
    <script>
      function fetchTopFive(address) {
        try {
          console.log(address);
          const URL = `http://129.64.142.68:8081/address?address=` + address;
          console.log(URL);
          var xhr = new XMLHttpRequest();
          xhr.onreadystatechange = function() {
            if (xhr.readyState == XMLHttpRequest.DONE) {
              console.log(xhr);
              console.log(JSON.parse(xhr.response));
              console.log(JSON.parse(xhr.responseText));
            }
          };
          xhr.open("GET", URL, true);
          xhr.send(null);
        } catch (e) {
          console.log(e);
        }
      }
    </script>
  </head>
  <body class="body">
    <div class="navbar">
      <ul>
        <li class="logo">WGP</li>

        <li><a class="active page" href="index.html">Home</a></li>
        <li><a href="leaderboard/index.html">Leader Board </a></li>
        <li><a href="townUsageMap/index.html">Town Usage Map</a></li>
        <li><a href="otherprojects/index.html">Other Green Projects</a></li>
      </ul>
    </div>
    <h1 class="ourtitle">Waltham Green Initiative</h1>
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.1.0/css/all.css"
      integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt"
      crossorigin="anonymous"
    />

    <div class="row justify-content-center">
      <div class="col-12 col-md-10 col-lg-8">
        <form class="card card-sm">
          <div class="card-body row no-gutters align-items-center">
            <div class="col-auto">
              <i class="fas fa-search h4 text-body"></i>
            </div>
            <!-- end of col -->
            <form name="searchForm" action="results/index.html" method="GET">
              <div class="col">
                <input
                  class="form-control form-control-lg form-control-borderless"
                  type="text"
                  placeholder="Search your address"
                  style="border:none"
                  value=""
                  name="query"
                />
              </div>
              <!-- end of col -->
              <div class="col-auto">
                <button
                  class="btn btn-lg btn-success"
                  type="submit"
                  value="click"
                  onclick="fetchTopFive(encodeURIComponent(query.value))"
                >
                  Search
                </button>
              </div>
            </form>
            <!-- end of col -->
          </div>
        </form>
      </div>
      <!-- end of col -->
    </div>

    <br />
    <br />
    <br />
    <br />
    <div class="aboutus">
      <h3>About Us</h3>
      <p>
        This web app has the purpose of shaming how inefficient citizens of Waltham are in being sustainable. With the use of this, our team has been able to create a leaderboard that will have a rank of top 10 streets that have the least energy and water consumption in Waltham in order to incentivise people into being more environmentally friendly. 
      </p>
    </div>
    <div class="townsymbol"><img src="logo.png" /></div>
  </body>
</html>
